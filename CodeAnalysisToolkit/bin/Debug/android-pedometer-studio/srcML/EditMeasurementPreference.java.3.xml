<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.sdml.info/srcML/src" xmlns:lit="http://www.sdml.info/srcML/literal" xmlns:op="http://www.sdml.info/srcML/operator" xmlns:type="http://www.sdml.info/srcML/modifier" xmlns:pos="http://www.sdml.info/srcML/position" language="Java" filename="C:\School\Grad School (Comp Sci)\Thesis\android-pedometer-studio\app\src\main\java\name\bagi\levente\pedometer\preferences\EditMeasurementPreference.java" pos:tabs="8"><package pos:line="1" pos:column="1">package <name><name pos:line="1" pos:column="9">name</name><op:operator pos:line="1" pos:column="13">.</op:operator><name pos:line="1" pos:column="14">bagi</name><op:operator pos:line="1" pos:column="18">.</op:operator><name pos:line="1" pos:column="19">levente</name><op:operator pos:line="1" pos:column="26">.</op:operator><name pos:line="1" pos:column="27">pedometer</name><op:operator pos:line="1" pos:column="36">.</op:operator><name pos:line="1" pos:column="37">preferences</name></name>;</package>

<import pos:line="3" pos:column="1">import <name><name pos:line="3" pos:column="8">android</name><op:operator pos:line="3" pos:column="15">.</op:operator><name pos:line="3" pos:column="16">content</name><op:operator pos:line="3" pos:column="23">.</op:operator><name pos:line="3" pos:column="24">Context</name></name>;</import>
<import pos:line="4" pos:column="1">import <name><name pos:line="4" pos:column="8">android</name><op:operator pos:line="4" pos:column="15">.</op:operator><name pos:line="4" pos:column="16">os</name><op:operator pos:line="4" pos:column="18">.</op:operator><name pos:line="4" pos:column="19">Bundle</name></name>;</import>
<import pos:line="5" pos:column="1">import <name><name pos:line="5" pos:column="8">android</name><op:operator pos:line="5" pos:column="15">.</op:operator><name pos:line="5" pos:column="16">preference</name><op:operator pos:line="5" pos:column="26">.</op:operator><name pos:line="5" pos:column="27">EditTextPreference</name></name>;</import>
<import pos:line="6" pos:column="1">import <name><name pos:line="6" pos:column="8">android</name><op:operator pos:line="6" pos:column="15">.</op:operator><name pos:line="6" pos:column="16">preference</name><op:operator pos:line="6" pos:column="26">.</op:operator><name pos:line="6" pos:column="27">PreferenceManager</name></name>;</import>
<import pos:line="7" pos:column="1">import <name><name pos:line="7" pos:column="8">android</name><op:operator pos:line="7" pos:column="15">.</op:operator><name pos:line="7" pos:column="16">text</name><op:operator pos:line="7" pos:column="20">.</op:operator><name pos:line="7" pos:column="21">InputType</name></name>;</import>
<import pos:line="8" pos:column="1">import <name><name pos:line="8" pos:column="8">android</name><op:operator pos:line="8" pos:column="15">.</op:operator><name pos:line="8" pos:column="16">util</name><op:operator pos:line="8" pos:column="20">.</op:operator><name pos:line="8" pos:column="21">AttributeSet</name></name>;</import>
<import pos:line="9" pos:column="1">import <name><name pos:line="9" pos:column="8">android</name><op:operator pos:line="9" pos:column="15">.</op:operator><name pos:line="9" pos:column="16">view</name><op:operator pos:line="9" pos:column="20">.</op:operator><name pos:line="9" pos:column="21">View</name></name>;</import>
<import pos:line="10" pos:column="1">import <name><name pos:line="10" pos:column="8">android</name><op:operator pos:line="10" pos:column="15">.</op:operator><name pos:line="10" pos:column="16">widget</name><op:operator pos:line="10" pos:column="22">.</op:operator><name pos:line="10" pos:column="23">EditText</name></name>;</import>

<comment type="block" format="javadoc" pos:line="12" pos:column="1">/**
 * An {@link EditTextPreference} that is suitable for entering measurements.
 * It handles metric/imperial setting.
 * @author Levente Bagi
 */</comment>
<class><specifier pos:line="17" pos:column="1">abstract</specifier> <specifier pos:line="17" pos:column="10">public</specifier> class <name pos:line="17" pos:column="23">EditMeasurementPreference</name> <super><extends pos:line="17" pos:column="49">extends <name pos:line="17" pos:column="57">EditTextPreference</name></extends></super> <block pos:line="17" pos:column="76">{
	<decl_stmt><decl><type><name pos:line="18" pos:column="9">boolean</name></type> <name pos:line="18" pos:column="17">mIsMetric</name></decl>;</decl_stmt>
	
	<decl_stmt><decl><type><specifier pos:line="20" pos:column="9">protected</specifier> <name pos:line="20" pos:column="19">int</name></type> <name pos:line="20" pos:column="23">mTitleResource</name></decl>;</decl_stmt>
	<decl_stmt><decl><type><specifier pos:line="21" pos:column="9">protected</specifier> <name pos:line="21" pos:column="19">int</name></type> <name pos:line="21" pos:column="23">mMetricUnitsResource</name></decl>;</decl_stmt>
	<decl_stmt><decl><type><specifier pos:line="22" pos:column="9">protected</specifier> <name pos:line="22" pos:column="19">int</name></type> <name pos:line="22" pos:column="23">mImperialUnitsResource</name></decl>;</decl_stmt>
	
	<constructor><specifier pos:line="24" pos:column="9">public</specifier> <name pos:line="24" pos:column="16">EditMeasurementPreference</name><parameter_list pos:line="24" pos:column="41">(<param><decl><type><name pos:line="24" pos:column="42">Context</name></type> <name pos:line="24" pos:column="50">context</name></decl></param>)</parameter_list> <block pos:line="24" pos:column="59">{
		<expr_stmt><expr><call><name pos:line="25" pos:column="17">super</name><argument_list pos:line="25" pos:column="22">(<argument><expr><name pos:line="25" pos:column="23">context</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
		<expr_stmt><expr><call><name pos:line="26" pos:column="17">initPreferenceDetails</name><argument_list pos:line="26" pos:column="38">()</argument_list></call></expr>;</expr_stmt>
	}</block></constructor>
	<constructor><specifier pos:line="28" pos:column="9">public</specifier> <name pos:line="28" pos:column="16">EditMeasurementPreference</name><parameter_list pos:line="28" pos:column="41">(<param><decl><type><name pos:line="28" pos:column="42">Context</name></type> <name pos:line="28" pos:column="50">context</name></decl></param>, <param><decl><type><name pos:line="28" pos:column="59">AttributeSet</name></type> <name pos:line="28" pos:column="72">attr</name></decl></param>)</parameter_list> <block pos:line="28" pos:column="78">{
		<expr_stmt><expr><call><name pos:line="29" pos:column="17">super</name><argument_list pos:line="29" pos:column="22">(<argument><expr><name pos:line="29" pos:column="23">context</name></expr></argument>, <argument><expr><name pos:line="29" pos:column="32">attr</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
		<expr_stmt><expr><call><name pos:line="30" pos:column="17">initPreferenceDetails</name><argument_list pos:line="30" pos:column="38">()</argument_list></call></expr>;</expr_stmt>
	}</block></constructor>
	<constructor><specifier pos:line="32" pos:column="9">public</specifier> <name pos:line="32" pos:column="16">EditMeasurementPreference</name><parameter_list pos:line="32" pos:column="41">(<param><decl><type><name pos:line="32" pos:column="42">Context</name></type> <name pos:line="32" pos:column="50">context</name></decl></param>, <param><decl><type><name pos:line="32" pos:column="59">AttributeSet</name></type> <name pos:line="32" pos:column="72">attr</name></decl></param>, <param><decl><type><name pos:line="32" pos:column="78">int</name></type> <name pos:line="32" pos:column="82">defStyle</name></decl></param>)</parameter_list> <block pos:line="32" pos:column="92">{
		<expr_stmt><expr><call><name pos:line="33" pos:column="17">super</name><argument_list pos:line="33" pos:column="22">(<argument><expr><name pos:line="33" pos:column="23">context</name></expr></argument>, <argument><expr><name pos:line="33" pos:column="32">attr</name></expr></argument>, <argument><expr><name pos:line="33" pos:column="38">defStyle</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
		<expr_stmt><expr><call><name pos:line="34" pos:column="17">initPreferenceDetails</name><argument_list pos:line="34" pos:column="38">()</argument_list></call></expr>;</expr_stmt>
	}</block></constructor>
	
	<function_decl><type><specifier pos:line="37" pos:column="9">abstract</specifier> <specifier pos:line="37" pos:column="18">protected</specifier> <name pos:line="37" pos:column="28">void</name></type> <name pos:line="37" pos:column="33">initPreferenceDetails</name><parameter_list pos:line="37" pos:column="54">()</parameter_list>;</function_decl>
	
	<function><type><specifier pos:line="39" pos:column="9">protected</specifier> <name pos:line="39" pos:column="19">void</name></type> <name pos:line="39" pos:column="24">showDialog</name><parameter_list pos:line="39" pos:column="34">(<param><decl><type><name pos:line="39" pos:column="35">Bundle</name></type> <name pos:line="39" pos:column="42">state</name></decl></param>)</parameter_list> <block pos:line="39" pos:column="49">{
		<expr_stmt><expr><name pos:line="40" pos:column="17">mIsMetric</name> <op:operator pos:line="40" pos:column="27">=</op:operator> <call><name><name pos:line="40" pos:column="29">PreferenceManager</name><op:operator pos:line="40" pos:column="46">.</op:operator><name pos:line="40" pos:column="47">getDefaultSharedPreferences</name></name><argument_list pos:line="40" pos:column="74">(<argument><expr><call><name pos:line="40" pos:column="75">getContext</name><argument_list pos:line="40" pos:column="85">()</argument_list></call></expr></argument>)</argument_list></call><op:operator pos:line="40" pos:column="88">.</op:operator><call><name pos:line="40" pos:column="89">getString</name><argument_list pos:line="40" pos:column="98">(<argument><expr><lit:literal type="string" pos:line="40" pos:column="99">"units"</lit:literal></expr></argument>, <argument><expr><lit:literal type="string" pos:line="40" pos:column="108">"imperial"</lit:literal></expr></argument>)</argument_list></call><op:operator pos:line="40" pos:column="119">.</op:operator><call><name pos:line="40" pos:column="120">equals</name><argument_list pos:line="40" pos:column="126">(<argument><expr><lit:literal type="string" pos:line="40" pos:column="127">"metric"</lit:literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>
		<expr_stmt><expr><call><name pos:line="41" pos:column="17">setDialogTitle</name><argument_list pos:line="41" pos:column="31">(
				<argument><expr><call><name pos:line="42" pos:column="33">getContext</name><argument_list pos:line="42" pos:column="43">()</argument_list></call><op:operator pos:line="42" pos:column="45">.</op:operator><call><name pos:line="42" pos:column="46">getString</name><argument_list pos:line="42" pos:column="55">(<argument><expr><name pos:line="42" pos:column="56">mTitleResource</name></expr></argument>)</argument_list></call> <op:operator pos:line="42" pos:column="72">+</op:operator> 
				<lit:literal type="string" pos:line="43" pos:column="33">" ("</lit:literal> <op:operator pos:line="43" pos:column="38">+</op:operator> 
						<call><name pos:line="44" pos:column="49">getContext</name><argument_list pos:line="44" pos:column="59">()</argument_list></call><op:operator pos:line="44" pos:column="61">.</op:operator><call><name pos:line="44" pos:column="62">getString</name><argument_list pos:line="44" pos:column="71">(
								<argument><expr><name pos:line="45" pos:column="65">mIsMetric</name>
								<op:operator pos:line="46" pos:column="65">?</op:operator> <name pos:line="46" pos:column="67">mMetricUnitsResource</name> 
								<op:operator pos:line="47" pos:column="65">:</op:operator> <name pos:line="47" pos:column="67">mImperialUnitsResource</name></expr></argument>)</argument_list></call> <op:operator pos:line="47" pos:column="91">+</op:operator> 
				<lit:literal type="string" pos:line="48" pos:column="33">")"</lit:literal></expr></argument>
		)</argument_list></call></expr>;</expr_stmt>
		
		<try pos:line="51" pos:column="17">try <block pos:line="51" pos:column="21">{
			<expr_stmt><expr><call><name><name pos:line="52" pos:column="25">Float</name><op:operator pos:line="52" pos:column="30">.</op:operator><name pos:line="52" pos:column="31">valueOf</name></name><argument_list pos:line="52" pos:column="38">(<argument><expr><call><name pos:line="52" pos:column="39">getText</name><argument_list pos:line="52" pos:column="46">()</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt>
		}</block>
		<catch pos:line="54" pos:column="17">catch <parameter_list pos:line="54" pos:column="23">(<param><decl><type><name pos:line="54" pos:column="24">Exception</name></type> <name pos:line="54" pos:column="34">e</name></decl></param>)</parameter_list> <block pos:line="54" pos:column="37">{
			<expr_stmt><expr><call><name pos:line="55" pos:column="25">setText</name><argument_list pos:line="55" pos:column="32">(<argument><expr><lit:literal type="string" pos:line="55" pos:column="33">"20"</lit:literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>
		}</block></catch></try>
		
		<expr_stmt><expr><call><name><name pos:line="58" pos:column="17">super</name><op:operator pos:line="58" pos:column="22">.</op:operator><name pos:line="58" pos:column="23">showDialog</name></name><argument_list pos:line="58" pos:column="33">(<argument><expr><name pos:line="58" pos:column="34">state</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
	}</block></function>
	<function><type><specifier pos:line="60" pos:column="9">protected</specifier> <name pos:line="60" pos:column="19">void</name></type> <name pos:line="60" pos:column="24">onAddEditTextToDialogView</name> <parameter_list pos:line="60" pos:column="50">(<param><decl><type><name pos:line="60" pos:column="51">View</name></type> <name pos:line="60" pos:column="56">dialogView</name></decl></param>, <param><decl><type><name pos:line="60" pos:column="68">EditText</name></type> <name pos:line="60" pos:column="77">editText</name></decl></param>)</parameter_list> <block pos:line="60" pos:column="87">{
		<expr_stmt><expr><call><name><name pos:line="61" pos:column="17">editText</name><op:operator pos:line="61" pos:column="25">.</op:operator><name pos:line="61" pos:column="26">setRawInputType</name></name><argument_list pos:line="61" pos:column="41">(
				<argument><expr><name><name pos:line="62" pos:column="33">InputType</name><op:operator pos:line="62" pos:column="42">.</op:operator><name pos:line="62" pos:column="43">TYPE_CLASS_NUMBER</name></name> <op:operator pos:line="62" pos:column="61">|</op:operator> <name><name pos:line="62" pos:column="63">InputType</name><op:operator pos:line="62" pos:column="72">.</op:operator><name pos:line="62" pos:column="73">TYPE_NUMBER_FLAG_DECIMAL</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
		<expr_stmt><expr><call><name><name pos:line="63" pos:column="17">super</name><op:operator pos:line="63" pos:column="22">.</op:operator><name pos:line="63" pos:column="23">onAddEditTextToDialogView</name></name><argument_list pos:line="63" pos:column="48">(<argument><expr><name pos:line="63" pos:column="49">dialogView</name></expr></argument>, <argument><expr><name pos:line="63" pos:column="61">editText</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
	}</block></function>
	<function><type><specifier pos:line="65" pos:column="9">public</specifier> <name pos:line="65" pos:column="16">void</name></type> <name pos:line="65" pos:column="21">onDialogClosed</name><parameter_list pos:line="65" pos:column="35">(<param><decl><type><name pos:line="65" pos:column="36">boolean</name></type> <name pos:line="65" pos:column="44">positiveResult</name></decl></param>)</parameter_list> <block pos:line="65" pos:column="60">{
		<if pos:line="66" pos:column="17">if <condition pos:line="66" pos:column="20">(<expr><name pos:line="66" pos:column="21">positiveResult</name></expr>)</condition><then pos:line="66" pos:column="36"> <block pos:line="66" pos:column="37">{
			<try pos:line="67" pos:column="25">try <block pos:line="67" pos:column="29">{
				<expr_stmt><expr><call><name><name pos:line="68" pos:column="33">Float</name><op:operator pos:line="68" pos:column="38">.</op:operator><name pos:line="68" pos:column="39">valueOf</name></name><argument_list pos:line="68" pos:column="46">(<argument><expr><op:operator pos:line="68" pos:column="47">(</op:operator><call pos:line="68" pos:column="48">(<name pos:line="68" pos:column="49">CharSequence</name>)<argument_list pos:line="68" pos:column="62">(<argument><expr><call><name pos:line="68" pos:column="63">getEditText</name><argument_list pos:line="68" pos:column="74">()</argument_list></call><op:operator pos:line="68" pos:column="76">.</op:operator><call><name pos:line="68" pos:column="77">getText</name><argument_list pos:line="68" pos:column="84">()</argument_list></call></expr></argument>)</argument_list></call><op:operator pos:line="68" pos:column="87">)</op:operator><op:operator pos:line="68" pos:column="88">.</op:operator><call><name pos:line="68" pos:column="89">toString</name><argument_list pos:line="68" pos:column="97">()</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt>
			}</block>
			<catch pos:line="70" pos:column="25">catch <parameter_list pos:line="70" pos:column="31">(<param><decl><type><name pos:line="70" pos:column="32">NumberFormatException</name></type> <name pos:line="70" pos:column="54">e</name></decl></param>)</parameter_list> <block pos:line="70" pos:column="57">{
				<expr_stmt><expr><call><name><name pos:line="71" pos:column="33">this</name><op:operator pos:line="71" pos:column="37">.</op:operator><name pos:line="71" pos:column="38">showDialog</name></name><argument_list pos:line="71" pos:column="48">(<argument><expr><lit:literal type="null" pos:line="71" pos:column="49">null</lit:literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>
				<return pos:line="72" pos:column="33">return;</return>
			}</block></catch></try>
		}</block></then></if>
		<expr_stmt><expr><call><name><name pos:line="75" pos:column="17">super</name><op:operator pos:line="75" pos:column="22">.</op:operator><name pos:line="75" pos:column="23">onDialogClosed</name></name><argument_list pos:line="75" pos:column="37">(<argument><expr><name pos:line="75" pos:column="38">positiveResult</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
	}</block></function>
}</block></class>
</unit>
